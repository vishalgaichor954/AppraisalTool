@model AppraisalTool.App.Models.AppraisalToolAuth.Login




@{
    //ViewData["Title"] = "AppraisalTool";
}

<link rel="stylesheet" href="~/lib/package/dist/sweetalert2.min.css">
<script src="~/lib/package/dist/sweetalert2.all.min.js"></script>
<script src="~/lib/package/dist/sweetalert2.all.js"></script>
<script src="~/lib/package/dist/sweetalert2.min.js"></script>

@if (TempData["Error"] != null)
{


    <script>

        const Toast = Swal.mixin({
            toast: true,
            position: 'top-end',
            showConfirmButton: false,
            timer: 3000,
            timerProgressBar: true,
            didOpen: (toast) => {
                toast.addEventListener('mouseenter', Swal.stopTimer)
                toast.addEventListener('mouseleave', Swal.resumeTimer)
            }
        })

        Toast.fire({
            icon: 'error',
            title: 'Invalid Login Credentials'
        })
    </script>
}
<div class="container-scroller">
    <div class="container-fluid page-body-wrapper full-page-wrapper">
        <div class="content-wrapper d-flex align-items-center auth">
            <div class="row flex-grow">
                <div class="col-lg-4 mx-auto">
                    <div class="auth-form-light text-left p-5">
                        <div class="brand-logo logoImgLogin">
                            <img src="~/lib/assets/images/AppraisalToolLogo_adobe_express.svg">
                        </div>
                        <h2 style="font-weight:500 ;padding-left:6rem" class=" LoginHeader pt-0" asp-action="Login">LogIn</h2>
                        <form class="pt-3 needs-validation" asp-action="Login" novalidate>
                            <div class="form-group">
                                <label asp-for="Email" class="control-label">Email</label>
                                <input asp-for="Email" type="email" class="form-control form-control-lg" id="Email" placeholder="Email" required>
                                <span asp-validation-for="Email" class="text-danger"></span>
                            </div>

                            <div class="form-group">
                                <label asp-for="Password" class="control-label"></label>
                                <input asp-for="Password" type="Password" class="form-control form-control-lg" id="Password" placeholder="Password" required>
                                <span asp-validation-for="Password" class="text-danger"></span>
                            </div>

                            <div class="form-group">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <img id="img-captcha" src="~/get-captcha-image" />
                                    </div>
                                    <input type="text" class="form-control" placeholder="Captcha Code" asp-for="CaptchaCode" maxlength="4" />
                                </div>
                                <span asp-validation-for="CaptchaCode" class="text-danger">
                                    @if (TempData["msg"] != null)
                                    {
                                        @TempData["msg"]

                                    }
                                </span>
                            </div>
                            <div class="my-1 mb-2 d-flex justify-content-between align-items-center">
                                <a asp-controller="Login" asp-action="ForgotPassword" class="auth-link text-black">Forgot password?</a>
                            </div>
                            <div class="form-group">
                                <div style="align-items:center ;">
                                    <input type="submit" value="Login" class="btn btn-block LoginBtn btn-lg font-weight-medium auth-form-btn" />
                                </div>
                            </div>

                        </form>
                    </div>
                </div>
            </div>
        </div>
        <!-- content-wrapper ends -->
    </div>
    <!-- page-body-wrapper ends -->
</div>
@*<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Reset Password</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form asp-action="ForgotPassword" method="post">
                    <!-- Email input -->
                    <div class="form-outline mb-4">
                        <label class="form-label" for="email1">Email address</label>
                        <input type="email" id="email" name="email" class="form-control" />

                    </div>

                    <!-- password input -->


                    <!-- Submit button -->
                    <button  asp-action="ForgotPassword" type="submit" class="btn btn-primary btn-block">Reset Password</button>
         </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
       <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div>*@
<!-- Button trigger modal -->
<!-- Modal -->
<!-- Modal -->
@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
    }
<!-- plugins:js -->
<script src="./lib/assets/vendors/js/vendor.bundle.base.js"></script>

<!-- endinject -->
<!-- Plugin js for this page -->
<!-- End plugin js for this page -->
<!-- inject:js -->
<script src="./lib/assets/js/off-canvas.js"></script>


<script src="./lib/assets/js/hoverable-collapse.js"></script>

<script src="./lib/assets/js/misc.js"></script>

<!-- endinject -->

<script>
    $("#img-captcha").click(function () {
        resetCaptchaImage();
    });

    function resetCaptchaImage() {
        d = new Date();
        $("#img-captcha").attr("src", "/get-captcha-image?" + d.getTime());
    }

    // Example starter JavaScript for disabling form submissions if there are invalid fields
(function () {
  'use strict'

  // Fetch all the forms we want to apply custom Bootstrap validation styles to
  var forms = document.querySelectorAll('.needs-validation')

  // Loop over them and prevent submission
  Array.prototype.slice.call(forms)
    .forEach(function (form) {
      form.addEventListener('submit', function (event) {
        if (!form.checkValidity()) {
          event.preventDefault()
          event.stopPropagation()
        }

        form.classList.add('was-validated')
      }, false)
    })
})()
</script>
@model List<AllowAppraisalEditVm>

@{
    //ViewData["Title"] = "AppraisalTool";
}

@*<link rel="stylesheet" href="~/css/jquery.dataTables.min.css" />*@
<link rel="stylesheet" href="~/css/dataTables.bootstrap5.min.css" />
@*<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.12.1/css/jquery.dataTables.css"/>*@
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.12.1/css/jquery.dataTables.css" />
<link rel="stylesheet" href="~/lib/package/dist/sweetalert2.min.css">
<script src="~/lib/package/dist/sweetalert2.all.min.js"></script>
<script src="~/lib/package/dist/sweetalert2.all.js"></script>
<script src="~/lib/package/dist/sweetalert2.min.js"></script>



@if (TempData["AllowSuccess"] != null)
{
    

    <script>
                             
        const Toast = Swal.mixin({
  toast: true,
  position: 'top-end',
  showConfirmButton: false,
  timer: 3000,
  timerProgressBar: true,
  didOpen: (toast) => {
    toast.addEventListener('mouseenter', Swal.stopTimer)
    toast.addEventListener('mouseleave', Swal.resumeTimer)
  }
})

Toast.fire({
  icon: 'success',
  title: 'Allowed To Edit Successfully'
})
    </script>
}
@if (TempData["AllowFailed"] != null)
{
    

    <script>
                             
        const Toast = Swal.mixin({
  toast: true,
  position: 'top-end',
  showConfirmButton: false,
  timer: 3000,
  timerProgressBar: true,
  didOpen: (toast) => {
    toast.addEventListener('mouseenter', Swal.stopTimer)
    toast.addEventListener('mouseleave', Swal.resumeTimer)
  }
})

Toast.fire({
  icon: 'error',
  title: 'Oops!! Something Went Wrong'
})
    </script>
}
















<style>
    .BreadCrump > a:link {
        color: grey;
        background-color: transparent;
        text-decoration: none;
    }


    .BreadCrump > a:visited {
        color: grey;
        background-color: transparent;
        text-decoration: none;
    }

    .BreadCrump > a:hover {
        color: black;
        background-color: transparent;
        text-decoration: none;
    }

    .BreadCrump > a:active {
        color: grey;
        background-color: transparent;
        text-decoration: none;
    }

    .dataTables_wrapper .dataTables_length, .dataTables_wrapper .dataTables_filter, .dataTables_wrapper .dataTables_info, .dataTables_wrapper .dataTables_processing, .dataTables_wrapper .dataTables_paginate {
        color: #333;
        margin-right: 15px;
    }

    table.dataTable tbody th, table.dataTable tbody td {
        padding: 15px;
    }

    .Button {
        background-color: #1746A2;
        color: white;
        /* border: 2px solid #E0144C;*/
        border-radius: 0.3rem;
        border: none;
        padding: 13px 40px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 16px;
        margin: 4px 2px;
        cursor: pointer;
        width: auto;
        margin-left:850px;
      
    }
    div.dataTables_wrapper div.dataTables_info {
    padding-top: 0.85em;
    visibility: hidden;
}

</style>

<div class="container">
    @*<h6 class="BreadCrump"><a asp-controller="Admin" asp-action="ConfigureSetting">Configure Settings</a>  /<a asp-controller="Admin" asp-action="ListUsers">  User Management </a></h6>*@
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb" style="border:none">
            <li class="breadcrumb-item">
                <a asp-controller="Admin" class="active" asp-action="ConfigureSetting"  style=" text-decoration: none;">Configure Settings</a>
            </li>
            <li class="breadcrumb-item active" aria-current="page">Appraisal List</li>
        </ol>
    </nav>



    <div class="container-scroller ">
        <!-- partial -->
        <div>
            <div class="row">
                <div class="col-lg-12 grid-margin">
                    <div class="card" style="max-width:95% ; margin-left:50px">
                        <div class="card-body">
                            <div class="page-header">
                                <h3 class="page-title"> Appraisal List </h3>

                            </div>
                            @{
                               
                            }
                            <form method="post" asp-action="ListAppraisals">

                                

                                    <table class="table table-bordered display" id="myTable" style="max-width:95% ">
                                        <thead>
                                            <tr>
                                                <th width="150px">Sr. No</th>
                                                <th style="display:none" width="1px"> Appraisal Id </th>
                                                <th> Name </th>
                                                <th> Appraisal Cycle </th>
                                                <th width="100px">Allow Edits</th>


                                            </tr>

                                        </thead>
                                        <tbody>
                                            @if (ViewBag.Appraisals != null)
                                            {
                                                @for (int i = 0; i < ViewBag.Appraisals.Count; i++)
                                                {
                                                    var item = ViewBag.Appraisals[i];
                                                    <tr>
                                                        <td>@(i+1)</td>

                                                        <td style="display:none">
                                                            <span>@(item.appraisalId)</span>
                                                            <input asp-for="@Model[i].AppraisalId" value="@item.appraisalId" readonly hidden />
                                                        </td>

                                                        <td style="text-transform:Capatilize"> @item.firstname @item.lastName </td>
                                                        <td> @item.startYear @item.endYear </td>
                                                        <td>
                                                            <label class="switch">
                                                                <input type="checkbox" asp-for="@Model[i].IsAllowed" value="true" onclick="checker(this)">
                                                            </label>
                                                        </td>
                                                        <td> @item.primaryJobProfileName </td>
                                                        <td> @item.secondaryJobProfileName </td>

                                                    </tr>

                                                }



                                            }


                                        </tbody>
                                    </table>
                                 
                                @if (ViewBag.Empty==false)
                                {
                                 <div >
                                    <input type="submit" value="Allow" class=" Button mb-4"  id="btn" style="display:none; margin-inline: auto; margin-left: 850px"/>

                                </div>
                                }
                                
                            </form>

                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- main-panel ends -->
    </div>
    <!-- page-body-wrapper ends -->
</div>

@*   <script src="~/js/dataTables.bootstrap5.min.js"></script>
*@
<script type="text/javascript" src="https://code.jquery.com/jquery-3.6.1.slim.min.js"></script>

<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.12.1/js/jquery.dataTables.js" defer></script>
<script>
    $(document).ready(function() {
        $('#myTable').DataTable({
            "bPaginate": false,
            'columnDefs': [{

                'targets': [0, 3, 4, 5], // column index (start from 0)
                'orderable': false, // set orderable false for selected columns
            },
            { visible: false, targets: [5,6] },
            ],



        });

    });
</script>


 <script language="javascript" type="text/javascript">

function checker(that) {
if (that.checked) {
btn.style.display = "";
} else {
btn.style.display = "none";
}
}

</script>


@*<script src="assets/vendors/js/vendor.bundle.base.js"></script>*@
@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
    }
    <script src="./lib/assets/vendors/js/vendor.bundle.base.js"></script>

    <!-- endinject -->
    <!-- Plugin js for this page -->
    <!-- End plugin js for this page -->
    <!-- inject:js -->
    <script src="./lib/assets/js/off-canvas.js"></script>


    <script src="./lib/assets/js/hoverable-collapse.js"></script>

    <script src="./lib/assets/js/misc.js"></script>
    <!-- endinject -->
    <script src="~/lib/assets/vendors/js/vendor.bundle.base.js"></script>

    @*<script src="assets/vendors/chart.js/Chart.min.js"></script>*@
    <script src=" ~/lib/assets/vendors/chart.js/Chart.min.js"></script>
    @*    <script src="assets/js/jquery.cookie.js" type="text/javascript"></script>*@
    <script src=" ~/lib/assets/js/jquery.cookie.js" type="text/javascript"></script>
    @*<script src="assets/js/off-canvas.js"></script>
    <script src="assets/js/hoverable-collapse.js"></script>
    <script src="assets/js/misc.js"></script>*@
    <script src=" ~/lib/assets/js/off-canvas.js"></script>
    <script src=" ~/lib/assets/js/hoverable-collapse.js"></script>
    <script src=" ~/lib/assets/js/misc.js"></script>


   
